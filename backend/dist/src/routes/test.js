import { Router } from 'express';
import testController, { upload, handleArrayUpload } from '../controllers/testController';
import { authenticateToken, requireAdmin } from '../middleware/auth';
const router = Router();
router.post('/tests', authenticateToken, requireAdmin, upload.any(), handleArrayUpload, testController.createTest);
router.get('/tests', authenticateToken, requireAdmin, testController.getAllTests);
router.get('/tests/:id', authenticateToken, requireAdmin, testController.getTestById);
router.put('/tests/:id', authenticateToken, requireAdmin, upload.any(), handleArrayUpload, testController.updateTest);
router.delete('/tests/:id', authenticateToken, requireAdmin, testController.deleteTest);
router.patch('/tests/:id/view-permission', authenticateToken, requireAdmin, testController.updateViewPermission);
router.get('/tests/:id/submissions', authenticateToken, requireAdmin, testController.getTestSubmissions);
router.patch('/submissions/:id/grade', authenticateToken, requireAdmin, testController.gradeSubmission);
router.get('/tests/:id/submissions/:submissionId', authenticateToken, requireAdmin, testController.getSubmissionWithTest);
router.patch('/submissions/:id/manual-grades', authenticateToken, requireAdmin, testController.setManualGrades);
router.post('/tests/:id/grade-physical-batch', authenticateToken, requireAdmin, upload.any(), testController.gradePhysicalBatch);
router.patch('/submissions/:id/answers', authenticateToken, requireAdmin, testController.updateBubbleAnswers);
router.get('/available-tests', authenticateToken, testController.getAvailableTests);
router.get('/test-history', authenticateToken, testController.getStudentTestHistory);
router.get('/tests/:id/start', authenticateToken, testController.startTest);
router.get('/tests/:id/questions', authenticateToken, testController.getTestQuestions);
router.post('/tests/:id/submit', authenticateToken, testController.submitTest);
router.get('/tests/:id/result', authenticateToken, testController.getTestResult);
router.get('/tests/:id/images', authenticateToken, testController.getTestImages);
router.post('/tests/:id/upload-bubble-sheet', authenticateToken, upload.single('bubbleSheet'), testController.uploadBubbleSheet);
router.get('/tests/:id/submissions/rank', authenticateToken, testController.getStudentRank);
export default router;
//# sourceMappingURL=test.js.map